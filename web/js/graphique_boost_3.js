(function(e){'object'===typeof module&&module.exports?(e['default']=e,module.exports=e):'function'===typeof define&&define.amd?define('highcharts/modules/boost',['highcharts'],function(t){e(t);e.Highcharts=t;return e}):e('undefined'!==typeof Highcharts?Highcharts:void 0)})(function(e){function t(e,t,o,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,o))};e=e?e._modules:{};t(e,'modules/boost/boostables.js',[],function(){return'area arearange column columnrange bar line scatter heatmap bubble treemap'.split(' ')});t(e,'modules/boost/boostable-map.js',[e['modules/boost/boostables.js']],function(e){var t={};e.forEach(function(e){t[e]=1});return t});t(e,'modules/boost/wgl-shader.js',[e['parts/Globals.js']],function(e){var t=e.pick;return function(o){function m(){s.length&&e.error('[highcharts boost] shader error - '+s.join('\n'))};function x(e,t){var i=o.createShader('vertex'===t?o.VERTEX_SHADER:o.FRAGMENT_SHADER);o.shaderSource(i,e);o.compileShader(i);return o.getShaderParameter(i,o.COMPILE_STATUS)?i:(s.push('when compiling '+t+' shader:\n'+o.getShaderInfoLog(i)),!1)};function y(){function e(e){return o.getUniformLocation(i,e)};var t=x('#version 100\n#define LN10 2.302585092994046\nprecision highp float;\nattribute vec4 aVertexPosition;\nattribute vec4 aColor;\nvarying highp vec2 position;\nvarying highp vec4 vColor;\nuniform mat4 uPMatrix;\nuniform float pSize;\nuniform float translatedThreshold;\nuniform bool hasThreshold;\nuniform bool skipTranslation;\nuniform float xAxisTrans;\nuniform float xAxisMin;\nuniform float xAxisMinPad;\nuniform float xAxisPointRange;\nuniform float xAxisLen;\nuniform bool  xAxisPostTranslate;\nuniform float xAxisOrdinalSlope;\nuniform float xAxisOrdinalOffset;\nuniform float xAxisPos;\nuniform bool  xAxisCVSCoord;\nuniform bool  xAxisIsLog;\nuniform bool  xAxisReversed;\nuniform float yAxisTrans;\nuniform float yAxisMin;\nuniform float yAxisMinPad;\nuniform float yAxisPointRange;\nuniform float yAxisLen;\nuniform bool  yAxisPostTranslate;\nuniform float yAxisOrdinalSlope;\nuniform float yAxisOrdinalOffset;\nuniform float yAxisPos;\nuniform bool  yAxisCVSCoord;\nuniform bool  yAxisIsLog;\nuniform bool  yAxisReversed;\nuniform bool  isBubble;\nuniform bool  bubbleSizeByArea;\nuniform float bubbleZMin;\nuniform float bubbleZMax;\nuniform float bubbleZThreshold;\nuniform float bubbleMinSize;\nuniform float bubbleMaxSize;\nuniform bool  bubbleSizeAbs;\nuniform bool  isInverted;\nfloat bubbleRadius(){\nfloat value \x3d aVertexPosition.w;\nfloat zMax \x3d bubbleZMax;\nfloat zMin \x3d bubbleZMin;\nfloat radius \x3d 0.0;\nfloat pos \x3d 0.0;\nfloat zRange \x3d zMax - zMin;\nif (bubbleSizeAbs){\nvalue \x3d value - bubbleZThreshold;\nzMax \x3d max(zMax - bubbleZThreshold, zMin - bubbleZThreshold);\nzMin \x3d 0.0;\n}\nif (value \x3c zMin){\nradius \x3d bubbleZMin / 2.0 - 1.0;\n} else {\npos \x3d zRange \x3e 0.0 ? (value - zMin) / zRange : 0.5;\nif (bubbleSizeByArea \x26\x26 pos \x3e 0.0){\npos \x3d sqrt(pos);\n}\nradius \x3d ceil(bubbleMinSize + pos * (bubbleMaxSize - bubbleMinSize)) / 2.0;\n}\nreturn radius * 2.0;\n}\nfloat translate(float val,\nfloat pointPlacement,\nfloat localA,\nfloat localMin,\nfloat minPixelPadding,\nfloat pointRange,\nfloat len,\nbool  cvsCoord,\nbool  isLog,\nbool  reversed\n){\nfloat sign \x3d 1.0;\nfloat cvsOffset \x3d 0.0;\nif (cvsCoord) {\nsign *\x3d -1.0;\ncvsOffset \x3d len;\n}\nif (isLog) {\nval \x3d log(val) / LN10;\n}\nif (reversed) {\nsign *\x3d -1.0;\ncvsOffset -\x3d sign * len;\n}\nreturn sign * (val - localMin) * localA + cvsOffset + \n(sign * minPixelPadding);\n}\nfloat xToPixels(float value) {\nif (skipTranslation){\nreturn value;// + xAxisPos;\n}\nreturn translate(value, 0.0, xAxisTrans, xAxisMin, xAxisMinPad, xAxisPointRange, xAxisLen, xAxisCVSCoord, xAxisIsLog, xAxisReversed);// + xAxisPos;\n}\nfloat yToPixels(float value, float checkTreshold) {\nfloat v;\nif (skipTranslation){\nv \x3d value;// + yAxisPos;\n} else {\nv \x3d translate(value, 0.0, yAxisTrans, yAxisMin, yAxisMinPad, yAxisPointRange, yAxisLen, yAxisCVSCoord, yAxisIsLog, yAxisReversed);// + yAxisPos;\nif (v \x3e yAxisLen) {\nv \x3d yAxisLen;\n}\n}\nif (checkTreshold \x3e 0.0 \x26\x26 hasThreshold) {\nv \x3d min(v, translatedThreshold);\n}\nreturn v;\n}\nvoid main(void) {\nif (isBubble){\ngl_PointSize \x3d bubbleRadius();\n} else {\ngl_PointSize \x3d pSize;\n}\nvColor \x3d aColor;\nif (skipTranslation \x26\x26 isInverted) {\ngl_Position \x3d uPMatrix * vec4(aVertexPosition.y + yAxisPos, aVertexPosition.x + xAxisPos, 0.0, 1.0);\n} else if (isInverted) {\ngl_Position \x3d uPMatrix * vec4(yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, xToPixels(aVertexPosition.x) + xAxisPos, 0.0, 1.0);\n} else {\ngl_Position \x3d uPMatrix * vec4(xToPixels(aVertexPosition.x) + xAxisPos, yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, 0.0, 1.0);\n}\n}','vertex'),n=x('precision highp float;\nuniform vec4 fillColor;\nvarying highp vec2 position;\nvarying highp vec4 vColor;\nuniform sampler2D uSampler;\nuniform bool isCircle;\nuniform bool hasColor;\nvoid main(void) {\nvec4 col \x3d fillColor;\nvec4 tcol;\nif (hasColor) {\ncol \x3d vColor;\n}\nif (isCircle) {\ntcol \x3d texture2D(uSampler, gl_PointCoord.st);\ncol *\x3d tcol;\nif (tcol.r \x3c 0.0) {\ndiscard;\n} else {\ngl_FragColor \x3d col;\n}\n} else {\ngl_FragColor \x3d col;\n}\n}','fragment');if(!t||!n)return i=!1,m(),!1;i=o.createProgram();o.attachShader(i,t);o.attachShader(i,n);o.linkProgram(i);if(!o.getProgramParameter(i,o.LINK_STATUS))return s.push(o.getProgramInfoLog(i)),m(),i=!1;o.useProgram(i);o.bindAttribLocation(i,0,'aVertexPosition');a=e('uPMatrix');l=e('pSize');f=e('fillColor');u=e('isBubble');h=e('bubbleSizeAbs');c=e('bubbleSizeByArea');g=e('uSampler');p=e('skipTranslation');r=e('isCircle');b=e('isInverted');return!0};function n(e,t){o&&i&&(e=d[e]=d[e]||o.getUniformLocation(i,e),o.uniform1f(e,t))};var d={},i,a,l,f,u,h,c,p,r,b,s=[],g;return o&&!y()?!1:{psUniform:function(){return l},pUniform:function(){return a},fillColorUniform:function(){return f},setBubbleUniforms:function(e,s,a){var l=e.options,f=Number.MAX_VALUE,d=-Number.MAX_VALUE;o&&i&&'bubble'===e.type&&(f=t(l.zMin,Math.min(f,Math.max(s,!1===l.displayNegative?l.zThreshold:-Number.MAX_VALUE))),d=t(l.zMax,Math.max(d,a)),o.uniform1i(u,1),o.uniform1i(r,1),o.uniform1i(c,'width'!==e.options.sizeBy),o.uniform1i(h,e.options.sizeByAbsoluteValue),n('bubbleZMin',f),n('bubbleZMax',d),n('bubbleZThreshold',e.options.zThreshold),n('bubbleMinSize',e.minPxSize),n('bubbleMaxSize',e.maxPxSize))},bind:function(){o&&i&&o.useProgram(i)},program:function(){return i},create:y,setUniform:n,setPMatrix:function(e){o&&i&&o.uniformMatrix4fv(a,!1,e)},setColor:function(e){o&&i&&o.uniform4f(f,e[0]/255,e[1]/255,e[2]/255,e[3])},setPointSize:function(e){o&&i&&o.uniform1f(l,e)},setSkipTranslation:function(e){o&&i&&o.uniform1i(p,!0===e?1:0)},setTexture:function(e){o&&i&&o.uniform1i(g,e)},setDrawAsCircle:function(e){o&&i&&o.uniform1i(r,e?1:0)},reset:function(){o&&i&&(o.uniform1i(u,0),o.uniform1i(r,0))},setInverted:function(e){o&&i&&o.uniform1i(b,e)},destroy:function(){o&&i&&(o.deleteProgram(i),i=!1)}}}});t(e,'modules/boost/wgl-vbuffer.js',[],function(){return function(e,t,o){function f(){n&&(e.deleteBuffer(n),l=n=!1);a=0;s=o||2;r=[]};var n=!1,l=!1,s=o||2,i=!1,a=0,r;return{destroy:f,bind:function(){if(!n)return!1;e.vertexAttribPointer(l,s,e.FLOAT,!1,0,0)},data:r,build:function(o,a,u){var d;r=o||[];if(!(r&&0!==r.length||i))return f(),!1;s=u||s;n&&e.deleteBuffer(n);i||(d=new Float32Array(r));n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n);e.bufferData(e.ARRAY_BUFFER,i||d,e.STATIC_DRAW);l=e.getAttribLocation(t.program(),a);e.enableVertexAttribArray(l);return!0},render:function(t,o,a){var l=i?i.length:r.length;if(!n||!l)return!1;if(!t||t>l||0>t)t=0;if(!o||o>l)o=l;e.drawArrays(e[(a||'points').toUpperCase()],t/s,(o-t)/s);return!0},allocate:function(e){a=-1;i=new Float32Array(4*e)},push:function(e,t,o,n){i&&(i[++a]=e,i[++a]=t,i[++a]=o,i[++a]=n)}}}});t(e,'modules/boost/wgl-renderer.js',[e['modules/boost/wgl-shader.js'],e['modules/boost/wgl-vbuffer.js'],e['parts/Globals.js']],function(e,t,o){var r=o.win.document,s=o.merge,a=o.objEach,l=o.isNumber,i=o.some,f=o.Color,n=o.pick;return function(u){function E(e){var t,o;return e.isSeriesBoosting?(t=!!e.options.stacking,o=e.xData||e.options.xData||e.processedXData,t=(t?e.data:o||e.options.data).length,'treemap'===e.type?t*=12:'heatmap'===e.type?t*=6:S[e.type]&&(t*=2),t):0};function M(){d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT)};function U(e,t){function x(e){e&&(t.colorData.push(e[0]),t.colorData.push(e[1]),t.colorData.push(e[2]),t.colorData.push(e[3]))};function u(e,t,o,i,n){x(n);c.usePreallocated?p.push(e,t,o?1:0,i||1):(b.push(e),b.push(t),b.push(o?1:0),b.push(i||1))};function te(){t.segments.length&&(t.segments[t.segments.length-1].to=b.length)};function j(){t.segments.length&&t.segments[t.segments.length-1].from===b.length||(te(),t.segments.push({from:b.length}))};function oe(e,t,o,i,n){x(n);u(e+o,t);x(n);u(e,t);x(n);u(e,t+i);x(n);u(e,t+i);x(n);u(e+o,t+i);x(n);u(e+o,t)};function ie(e,o){c.useGPUTranslations||(t.skipTranslation=!0,e.x=N.toPixels(e.x,!0),e.y=U.toPixels(e.y,!0));o?b=[e.x,e.y,0,2].concat(b):u(e.x,e.y,0,2)};var V=e.pointArrayMap&&'low,high'===e.pointArrayMap.join(','),D=e.chart,f=e.options,L=!!f.stacking,l=f.data,d=e.xAxis.getExtremes(),y=d.min,d=d.max,A=e.yAxis.getExtremes(),E=A.min,A=A.max,h=e.xData||f.xData||e.processedXData,ne=e.yData||f.yData||e.processedYData,m=e.zData||f.zData||e.processedZData,U=e.yAxis,N=e.xAxis,H=e.chart.plotWidth,W=!h||0===h.length,X=f.connectNulls,n=e.points||!1,M=!1,z=!1,s,C,k,l=L?e.data:h||l,h={x:Number.MAX_VALUE,y:0},w={x:-Number.MAX_VALUE,y:0},Y=0,q=!1,r,F,a=-1,v=!1,T=!1,B,re='undefined'===typeof D.index,G=!1,I=!1,g=!1,se=S[e.type],O=!1,Z=!0,K=!0,R=f.zones||!1,P=!1,ee=f.threshold;if(!(f.boostData&&0<f.boostData.length)){R&&(i(R,function(e){if('undefined'===typeof e.value)return P=o.Color(e.color),!0}),P||(P=e.pointAttribs&&e.pointAttribs().fill||e.color,P=o.Color(P)));D.inverted&&(H=e.chart.plotHeight);e.closestPointRangePx=Number.MAX_VALUE;j();if(n&&0<n.length)t.skipTranslation=!0,t.drawMode='triangles',n[0].node&&n[0].node.levelDynamic&&n.sort(function(e,t){if(e.node){if(e.node.levelDynamic>t.node.levelDynamic)return 1;if(e.node.levelDynamic<t.node.levelDynamic)return-1};return 0}),n.forEach(function(t){var i=t.plotY,n;'undefined'===typeof i||isNaN(i)||null===t.y||(i=t.shapeArgs,n=D.styledMode?t.series.colorAttribs(t):n=t.series.pointAttribs(t),t=n['stroke-width']||0,C=o.color(n.fill).rgba,C[0]/=255,C[1]/=255,C[2]/=255,'treemap'===e.type&&(t=t||1,k=o.color(n.stroke).rgba,k[0]/=255,k[1]/=255,k[2]/=255,oe(i.x,i.y,i.width,i.height,k),t/=2),'heatmap'===e.type&&D.inverted&&(i.x=N.len-i.x,i.y=U.len-i.y,i.width=-i.width,i.height=-i.height),oe(i.x+t,i.y+t,i.width-2*t,i.height-2*t,C))});else{for(;a<l.length-1;){s=l[++a];if(re)break;W?(n=s[0],r=s[1],l[a+1]&&(T=l[a+1][0]),l[a-1]&&(v=l[a-1][0]),3<=s.length&&(F=s[2],s[2]>t.zMax&&(t.zMax=s[2]),s[2]<t.zMin&&(t.zMin=s[2]))):(n=s,r=ne[a],l[a+1]&&(T=l[a+1]),l[a-1]&&(v=l[a-1]),m&&m.length&&(F=m[a],m[a]>t.zMax&&(t.zMax=m[a]),m[a]<t.zMin&&(t.zMin=m[a])));if(X||null!==n&&null!==r){if(T&&T>=y&&T<=d&&(G=!0),v&&v>=y&&v<=d&&(I=!0),V?(W&&(r=s.slice(1,3)),B=r[0],r=r[1]):L&&(n=s.x,r=s.stackY,B=r-s.y),null!==E&&'undefined'!==typeof E&&null!==A&&'undefined'!==typeof A&&(Z=r>=E&&r<=A),n>d&&w.x<d&&(w.x=n,w.y=r),n<y&&h.x>y&&(h.x=n,h.y=r),null!==r||!X)if(null!==r&&(Z||G||I)){if((T>=y||n>=y)&&(v<=d||n<=d)&&(O=!0),O||G||I){R&&(g=P.rgba,i(R,function(e,t){t=R[t-1];if('undefined'!==typeof e.value&&r<=e.value){if(!t||r>=t.value)g=o.color(e.color).rgba;return!0}}),g[0]/=255,g[1]/=255,g[2]/=255);if(!c.useGPUTranslations&&(t.skipTranslation=!0,n=N.toPixels(n,!0),r=U.toPixels(r,!0),n>H&&'points'===t.drawMode))continue;if(se){s=B;if(!1===B||'undefined'===typeof B)s=0>r?r:0;V||L||(s=Math.max(null===ee?E:ee,E));c.useGPUTranslations||(s=U.toPixels(s,!0));u(n,s,0,0,g)};t.hasMarkers&&O&&!1!==M&&(e.closestPointRangePx=Math.min(e.closestPointRangePx,Math.abs(n-M)));!c.useGPUTranslations&&!c.usePreallocated&&M&&1>Math.abs(n-M)&&z&&1>Math.abs(r-z)?c.debug.showSkipSummary&&++Y:(f.step&&!K&&u(n,z,0,2,g),u(n,r,0,'bubble'===e.type?F||1:2,g),M=n,z=r,q=!0,K=!1)}}
else j()}
else j()};c.debug.showSkipSummary&&console.log('skipped points:',Y);q||!1===X||'line_strip'!==e.drawMode||(h.x<Number.MAX_VALUE&&ie(h,!0),w.x>-Number.MAX_VALUE&&ie(w))};te()}};function v(){g=[];P.data=b=[];T=[];p&&p.destroy()};function C(e){h&&(h.setUniform('xAxisTrans',e.transA),h.setUniform('xAxisMin',e.min),h.setUniform('xAxisMinPad',e.minPixelPadding),h.setUniform('xAxisPointRange',e.pointRange),h.setUniform('xAxisLen',e.len),h.setUniform('xAxisPos',e.pos),h.setUniform('xAxisCVSCoord',!e.horiz),h.setUniform('xAxisIsLog',e.isLog),h.setUniform('xAxisReversed',!!e.reversed))};function k(e){h&&(h.setUniform('yAxisTrans',e.transA),h.setUniform('yAxisMin',e.min),h.setUniform('yAxisMinPad',e.minPixelPadding),h.setUniform('yAxisPointRange',e.pointRange),h.setUniform('yAxisLen',e.len),h.setUniform('yAxisPos',e.pos),h.setUniform('yAxisCVSCoord',!e.horiz),h.setUniform('yAxisIsLog',e.isLog),h.setUniform('yAxisReversed',!!e.reversed))};function w(e,t){h.setUniform('hasThreshold',e);h.setUniform('translatedThreshold',t)};function B(e){if(e)m=e.chartWidth||800,x=e.chartHeight||400;else return!1;if(!(d&&m&&x&&h))return!1;c.debug.timeRendering&&console.time('gl rendering');d.canvas.width=m;d.canvas.height=x;h.bind();d.viewport(0,0,m,x);h.setPMatrix([2/m,0,0,0,0,-(2/x),0,0,0,0,-2,0,-1,1,-1,1]);1<c.lineWidth&&!o.isMS&&d.lineWidth(c.lineWidth);p.build(P.data,'aVertexPosition',4);p.bind();h.setInverted(e.inverted);g.forEach(function(i,r){var s=i.series.options,a=s.marker,u;u='undefined'!==typeof s.lineWidth?s.lineWidth:1;var b=s.threshold,g=l(b),m=i.series.yAxis.getThreshold(b),b=n(s.marker?s.marker.enabled:null,i.series.xAxis.isRadial?!0:null,i.series.closestPointRangePx>2*((s.marker?s.marker.radius:10)||10)),a=y[a&&a.symbol||i.series.symbol]||y.circle;if(!(0===i.segments.length||i.segmentslength&&i.segments[0].from===i.segments[0].to)){a.isReady&&(d.bindTexture(d.TEXTURE_2D,a.handle),h.setTexture(a.handle));e.styledMode?a=i.series.markerGroup&&i.series.markerGroup.getStyle('fill'):(a=i.series.pointAttribs&&i.series.pointAttribs().fill||i.series.color,s.colorByPoint&&(a=i.series.chart.options.colors[r]));i.series.fillOpacity&&s.fillOpacity&&(a=(new f(a)).setOpacity(n(s.fillOpacity,1)).get());a=o.color(a).rgba;c.useAlpha||(a[3]=1);'lines'===i.drawMode&&c.useAlpha&&1>a[3]&&(a[3]/=10);'add'===s.boostBlending?(d.blendFunc(d.SRC_ALPHA,d.ONE),d.blendEquation(d.FUNC_ADD)):'mult'===s.boostBlending||'multiply'===s.boostBlending?d.blendFunc(d.DST_COLOR,d.ZERO):'darken'===s.boostBlending?(d.blendFunc(d.ONE,d.ONE),d.blendEquation(d.FUNC_MIN)):d.blendFuncSeparate(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA,d.ONE,d.ONE_MINUS_SRC_ALPHA);h.reset();0<i.colorData.length&&(h.setUniform('hasColor',1),r=t(d,h),r.build(i.colorData,'aColor',4),r.bind());h.setColor(a);C(i.series.xAxis);k(i.series.yAxis);w(g,m);'points'===i.drawMode&&(s.marker&&s.marker.radius?h.setPointSize(2*s.marker.radius):h.setPointSize(1));h.setSkipTranslation(i.skipTranslation);'bubble'===i.series.type&&h.setBubbleUniforms(i.series,i.zMin,i.zMax);h.setDrawAsCircle(D[i.series.type]||!1);if(0<u||'line_strip'!==i.drawMode)for(u=0;u<i.segments.length;u++)p.render(i.segments[u].from,i.segments[u].to,i.drawMode);if(i.hasMarkers&&b)for(s.marker&&s.marker.radius?h.setPointSize(2*s.marker.radius):h.setPointSize(10),h.setDrawAsCircle(!0),u=0;u<i.segments.length;u++)p.render(i.segments[u].from,i.segments[u].to,'POINTS')}});c.debug.timeRendering&&console.timeEnd('gl rendering');u&&u();v()};function R(e){M();if(e.renderer.forExport)return B(e);A?B(e):setTimeout(function(){R(e)},1)};var h=!1,p=!1,d=!1,m=0,x=0,b=!1,T=!1,P={},A=!1,g=[],y={},S={column:!0,columnrange:!0,bar:!0,area:!0,arearange:!0},D={scatter:!0,bubble:!0},c={pointSize:1,lineWidth:1,fillColor:'#AA00AA',useAlpha:!0,usePreallocated:!1,useGPUTranslations:!1,debug:{timeRendering:!1,timeSeriesProcessing:!1,timeSetup:!1,timeBufferCopy:!1,timeKDTree:!1,showSkipSummary:!1}};return P={allocateBufferForSingleSeries:function(e){var t=0;c.usePreallocated&&(e.isSeriesBoosting&&(t=E(e)),p.allocate(t))},pushSeries:function(e){0<g.length&&g[g.length-1].hasMarkers&&(g[g.length-1].markerTo=T.length);c.debug.timeSeriesProcessing&&console.time('building '+e.type+' series');g.push({segments:[],markerFrom:T.length,colorData:[],series:e,zMin:Number.MAX_VALUE,zMax:-Number.MAX_VALUE,hasMarkers:e.options.marker?!1!==e.options.marker.enabled:!1,showMarkers:!0,drawMode:{area:'lines',arearange:'lines',areaspline:'line_strip',column:'lines',columnrange:'lines',bar:'lines',line:'line_strip',scatter:'points',heatmap:'triangles',treemap:'triangles',bubble:'points'}[e.type]||'line_strip'});U(e,g[g.length-1]);c.debug.timeSeriesProcessing&&console.timeEnd('building '+e.type+' series')},setSize:function(e,t){m===e&&x===t||!h||(m=e,x=t,h.bind(),h.setPMatrix([2/m,0,0,0,0,-(2/x),0,0,0,0,-2,0,-1,1,-1,1]))},inited:function(){return A},setThreshold:w,init:function(o,i){function n(e,t){var o={isReady:!1,texture:r.createElement('canvas'),handle:d.createTexture()},i=o.texture.getContext('2d');y[e]=o;o.texture.width=512;o.texture.height=512;i.mozImageSmoothingEnabled=!1;i.webkitImageSmoothingEnabled=!1;i.msImageSmoothingEnabled=!1;i.imageSmoothingEnabled=!1;i.strokeStyle='rgba(255, 255, 255, 0)';i.fillStyle='#FFF';t(i);try{d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,o.handle),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,o.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.bindTexture(d.TEXTURE_2D,null),o.isReady=!0}catch(n){}};var s=0,a=['webgl','experimental-webgl','moz-webgl','webkit-3d'];A=!1;if(!o)return!1;for(c.debug.timeSetup&&console.time('gl setup');s<a.length&&!(d=o.getContext(a[s],{}));s++);if(d)i||v();else return!1;d.enable(d.BLEND);d.blendFunc(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA);d.disable(d.DEPTH_TEST);d.depthFunc(d.LESS);h=e(d);if(!h)return!1;p=t(d,h);n('circle',function(e){e.beginPath();e.arc(256,256,256,0,2*Math.PI);e.stroke();e.fill()});n('square',function(e){e.fillRect(0,0,512,512)});n('diamond',function(e){e.beginPath();e.moveTo(256,0);e.lineTo(512,256);e.lineTo(256,512);e.lineTo(0,256);e.lineTo(256,0);e.fill()});n('triangle',function(e){e.beginPath();e.moveTo(0,512);e.lineTo(256,0);e.lineTo(512,512);e.lineTo(0,512);e.fill()});n('triangle-down',function(e){e.beginPath();e.moveTo(0,0);e.lineTo(256,512);e.lineTo(512,0);e.lineTo(0,0);e.fill()});A=!0;c.debug.timeSetup&&console.timeEnd('gl setup');return!0},render:R,settings:c,valid:function(){return!1!==d},clear:M,flush:v,setXAxis:C,setYAxis:k,data:b,gl:function(){return d},allocateBuffer:function(e){var t=0;c.usePreallocated&&(e.series.forEach(function(e){e.isSeriesBoosting&&(t+=E(e))}),p.allocate(t))},destroy:function(){v();p.destroy();h.destroy();d&&(a(y,function(e){y[e].handle&&d.deleteTexture(y[e].handle)}),d.canvas.width=1,d.canvas.height=1)},setOptions:function(e){s(!0,c,e)}}}});t(e,'modules/boost/boost-attach.js',[e['parts/Globals.js'],e['modules/boost/wgl-renderer.js']],function(e,t){var o=e.win.document,i=o.createElement('canvas');return function(n,s){var a=n.chartWidth,l=n.chartHeight,r=n,f=n.seriesGroup||s.group,u=o.implementation.hasFeature('www.http://w3.org/TR/SVG11/feature#Extensibility','1.1'),r=n.isChartSeriesBoosting()?n:s,u=!1;r.renderTarget||(r.canvas=i,n.renderer.forExport||!u?(r.renderTarget=n.renderer.image('',0,0,a,l).addClass('highcharts-boost-canvas').add(f),r.boostClear=function(){r.renderTarget.attr({href:''})},r.boostCopy=function(){r.boostResizeTarget();r.renderTarget.attr({href:r.canvas.toDataURL('image/png')})}):(r.renderTargetFo=n.renderer.createElement('foreignObject').add(f),r.renderTarget=o.createElement('canvas'),r.renderTargetCtx=r.renderTarget.getContext('2d'),r.renderTargetFo.element.appendChild(r.renderTarget),r.boostClear=function(){r.renderTarget.width=r.canvas.width;r.renderTarget.height=r.canvas.height},r.boostCopy=function(){r.renderTarget.width=r.canvas.width;r.renderTarget.height=r.canvas.height;r.renderTargetCtx.drawImage(r.canvas,0,0)}),r.boostResizeTarget=function(){a=n.chartWidth;l=n.chartHeight;(r.renderTargetFo||r.renderTarget).attr({x:0,y:0,width:a,height:l}).css({pointerEvents:'none',mixedBlendMode:'normal',opacity:1});r instanceof e.Chart&&r.markerGroup.translate(n.plotLeft,n.plotTop)},r.boostClipRect=n.renderer.clipRect(),(r.renderTargetFo||r.renderTarget).clip(r.boostClipRect),r instanceof e.Chart&&(r.markerGroup=r.renderer.g().add(f),r.markerGroup.translate(s.xAxis.pos,s.yAxis.pos)));r.canvas.width=a;r.canvas.height=l;r.boostClipRect.attr(n.getBoostClipRect(r));r.boostResizeTarget();r.boostClear();r.ogl||(r.ogl=t(function(){r.ogl.settings.debug.timeBufferCopy&&console.time('buffer copy');r.boostCopy();r.ogl.settings.debug.timeBufferCopy&&console.timeEnd('buffer copy')}),r.ogl.init(r.canvas)||e.error('[highcharts boost] - unable to init WebGL renderer'),r.ogl.setOptions(n.options.boost||{}),r instanceof e.Chart&&r.ogl.allocateBuffer(n));r.ogl.setSize(a,l);return r.ogl}});t(e,'modules/boost/boost-utils.js',[e['parts/Globals.js'],e['modules/boost/boostable-map.js'],e['modules/boost/boost-attach.js']],function(e,t,o){function s(){var t=Array.prototype.slice.call(arguments),e=-Number.MAX_VALUE;t.forEach(function(t){if('undefined'!==typeof t&&null!==t&&'undefined'!==typeof t.length&&0<t.length)return e=t.length,!0});return e};function a(e,t,o){e&&t.renderTarget&&t.canvas&&!(o||t.chart).isChartSeriesBoosting()&&e.render(o||t.chart)};function l(e,t){e&&t.renderTarget&&t.canvas&&!t.chart.isChartSeriesBoosting()&&e.allocateBufferForSingleSeries(t)};function n(e,t,o,s,r,l){r=r||0;s=s||3E3;for(var f=r+s,a=!0;a&&r<f&&r<e.length;)a=t(e[r],r),++r;a&&(r<e.length?l?n(e,t,o,s,r,l):i.requestAnimationFrame?i.requestAnimationFrame(function(){n(e,t,o,s,r)}):setTimeout(function(){n(e,t,o,s,r)}):o&&o())};function f(){var e=0,o,n=['webgl','experimental-webgl','moz-webgl','webkit-3d'],t=!1;if('undefined'!==typeof i.WebGLRenderingContext)for(o=u.createElement('canvas');e<n.length;e++)try{if(t=o.getContext(n[e]),'undefined'!==typeof t&&null!==t)return!0}catch(r){};return!1};var i=e.win,u=i.document,r=e.pick,d={patientMax:s,boostEnabled:function(e){return r(e&&e.options&&e.options.boost&&e.options.boost.enabled,!0)},shouldForceChartSeriesBoosting:function(e){var n=0,a=0,l=r(e.options.boost&&e.options.boost.allowForce,!0),o;if('undefined'!==typeof e.boostForceChartBoost)return e.boostForceChartBoost;if(1<e.series.length)for(var i=0;i<e.series.length;i++)o=e.series[i],0!==o.options.boostThreshold&&!1!==o.visible&&'heatmap'!==o.type&&(t[o.type]&&++a,s(o.processedXData,o.options.data,o.points)>=(o.options.boostThreshold||Number.MAX_VALUE)&&++n);e.boostForceChartBoost=l&&(a===e.series.length&&0<n||5<n);return e.boostForceChartBoost},renderIfNotSeriesBoosting:a,allocateIfNotSeriesBoosting:l,eachAsync:n,hasWebGLSupport:f,pointDrawHandler:function(e){var t=!0;this.chart.options&&this.chart.options.boost&&(t='undefined'===typeof this.chart.options.boost.enabled?!0:this.chart.options.boost.enabled);if(!t||!this.isSeriesBoosting)return e.call(this);this.chart.isBoosting=!0;if(e=o(this.chart,this))l(e,this),e.pushSeries(this);a(e,this)}};e.hasWebGLSupport=f;return d});t(e,'modules/boost/boost-init.js',[e['parts/Globals.js'],e['modules/boost/boost-utils.js'],e['modules/boost/boost-attach.js']],function(e,t,o){var r=e.addEvent,l=e.fireEvent,s=e.extend,f=e.Series,i=e.seriesTypes,a=e.wrap,u=function(){},d=t.eachAsync,h=t.pointDrawHandler,c=t.allocateIfNotSeriesBoosting,p=t.renderIfNotSeriesBoosting,b=t.shouldForceChartSeriesBoosting,n;return function(){e.extend(f.prototype,{renderCanvas:function(){function G(e,t){var n,o,r=!1,l='undefined'===typeof i.index,u=!0;if(!l&&(C?(n=e[0],o=e[1]):(n=e,o=w[t]),S?(C&&(o=e.slice(1,3)),r=o[0],o=o[1]):E&&(n=e.x,o=e.stackY,r=o-e.y),X||(u=o>=U&&o<=z),null!==o&&n>=R&&n<=D&&u))if(e=h.toPixels(n,!0),L){if(void 0===a||e===b){S||(r=o);if(void 0===f||o>x)x=o,f=t;if(void 0===a||r<m)m=r,a=t};e!==b&&(void 0!==a&&(o=s.toPixels(x,!0),g=s.toPixels(m,!0),A(e,o,f),g!==o&&A(e,g,a)),a=f=void 0,b=e)}
else o=Math.ceil(s.toPixels(o,!0)),A(e,o,t);return!l};function I(){l(e,'renderedCanvas');delete e.buildKDTree;e.buildKDTree();y.debug.timeKDTree&&console.timeEnd('kd tree building')};var e=this,r=e.options||{},t=!1,i=e.chart,h=this.xAxis,s=this.yAxis,v=r.xData||e.processedXData,w=r.yData||e.processedYData,B=r.data,t=h.getExtremes(),R=t.min,D=t.max,t=s.getExtremes(),U=t.min,z=t.max,T={},b,L=!!e.sampling,P,N=!1!==r.enableMouseTracking,g=s.getThreshold(r.threshold),S=e.pointArrayMap&&'low,high'===e.pointArrayMap.join(','),E=!!r.stacking,M=e.cropStart||0,X=e.requireSorting,C=!v,m,x,a,f,y,F='x'===r.findNearestPointBy,k=this.xData||this.options.xData||this.processedXData||!1,A=function(e,t,o){e=Math.ceil(e);n=F?e:e+','+t;N&&!T[n]&&(T[n]=!0,i.inverted&&(e=h.len-e,t=s.len-t),P.push({x:k?k[M+o]:!1,clientX:e,plotX:e,plotY:t,i:M+o}))},t=o(i,e);i.isBoosting=!0;y=t.settings;if(this.visible){if(this.points||this.graph)this.animate=null,this.destroyGraphics();i.isChartSeriesBoosting()?(this.markerGroup=i.markerGroup,this.renderTarget&&(this.renderTarget=this.renderTarget.destroy())):this.markerGroup=e.plotGroup('markerGroup','markers',!0,1,i.seriesGroup);P=this.points=[];e.buildKDTree=u;t&&(c(t,this),t.pushSeries(e),p(t,this,i));i.renderer.forExport||(y.debug.timeKDTree&&console.time('kd tree building'),d(E?e.data:v||B,G,I))}}});['heatmap','treemap'].forEach(function(e){i[e]&&a(i[e].prototype,'drawPoints',h)});i.bubble&&(delete i.bubble.prototype.buildKDTree,a(i.bubble.prototype,'markerAttribs',function(e){return this.isSeriesBoosting?!1:e.apply(this,[].slice.call(arguments,1))}));i.scatter.prototype.fill=!0;s(i.area.prototype,{fill:!0,fillOpacity:!0,sampling:!0});s(i.column.prototype,{fill:!0,sampling:!0});e.Chart.prototype.callbacks.push(function(e){r(e,'predraw',function(){e.boostForceChartBoost=void 0;e.boostForceChartBoost=b(e);e.isBoosting=!1;!e.isChartSeriesBoosting()&&e.didBoost&&(e.didBoost=!1);e.boostClear&&e.boostClear();e.canvas&&e.ogl&&e.isChartSeriesBoosting()&&(e.didBoost=!0,e.ogl.allocateBuffer(e));e.markerGroup&&e.xAxis&&0<e.xAxis.length&&e.yAxis&&0<e.yAxis.length&&e.markerGroup.translate(e.xAxis[0].pos,e.yAxis[0].pos)});r(e,'render',function(){e.ogl&&e.isChartSeriesBoosting()&&e.ogl.render(e)})})}});t(e,'modules/boost/boost-overrides.js',[e['parts/Globals.js'],e['modules/boost/boost-utils.js'],e['modules/boost/boostables.js'],e['modules/boost/boostable-map.js']],function(e,t,o,n){var d=t.boostEnabled,c=t.shouldForceChartSeriesBoosting;t=e.Chart;var i=e.Series,h=e.Point,a=e.seriesTypes,f=e.addEvent,s=e.isNumber,u=e.pick,r=e.wrap,l=e.getOptions().plotOptions;t.prototype.isChartSeriesBoosting=function(){return u(this.options.boost&&this.options.boost.seriesThreshold,50)<=this.series.length||c(this)};t.prototype.getBoostClipRect=function(e){var t={x:this.plotLeft,y:this.plotTop,width:this.plotWidth,height:this.plotHeight};e===this&&this.yAxis.forEach(function(e){t.y=Math.min(e.pos,t.y);t.height=Math.max(e.pos-this.plotTop+e.len,t.height)},this);return t};i.prototype.getPoint=function(e){var t=e,o=this.xData||this.options.xData||this.processedXData||!1;!e||e instanceof this.pointClass||(t=(new this.pointClass).init(this,this.options.data[e.i],o?o[e.i]:void 0),t.category=u(this.xAxis.categories?this.xAxis.categories[t.x]:t.x,t.x),t.dist=e.dist,t.distX=e.distX,t.plotX=e.plotX,t.plotY=e.plotY,t.index=e.i);return t};r(i.prototype,'searchPoint',function(e){return this.getPoint(e.apply(this,[].slice.call(arguments,1)))});r(h.prototype,'haloPath',function(e){var o,t=this.series,i=this.plotX,n=this.plotY,r=t.chart.inverted;t.isSeriesBoosting&&r&&(this.plotX=t.yAxis.len-n,this.plotY=t.xAxis.len-i);o=e.apply(this,Array.prototype.slice.call(arguments,1));t.isSeriesBoosting&&r&&(this.plotX=i,this.plotY=n);return o});r(i.prototype,'markerAttribs',function(e,t){var o,i=t.plotX,n=t.plotY,r=this.chart.inverted;this.isSeriesBoosting&&r&&(t.plotX=this.yAxis.len-n,t.plotY=this.xAxis.len-i);o=e.apply(this,Array.prototype.slice.call(arguments,1));this.isSeriesBoosting&&r&&(t.plotX=i,t.plotY=n);return o});f(i,'destroy',function(){var t=this,e=t.chart;e.markerGroup===t.markerGroup&&(t.markerGroup=null);e.hoverPoints&&(e.hoverPoints=e.hoverPoints.filter(function(e){return e.series===t}));e.hoverPoint&&e.hoverPoint.series===t&&(e.hoverPoint=null)});r(i.prototype,'getExtremes',function(e){if(!this.isSeriesBoosting||!this.hasExtremes||!this.hasExtremes())return e.apply(this,Array.prototype.slice.call(arguments,1))});['translate','generatePoints','drawTracker','drawPoints','render'].forEach(function(e){function t(t){var o=this.options.stacking&&('translate'===e||'generatePoints'===e);if(!this.isSeriesBoosting||o||!d(this.chart)||'heatmap'===this.type||'treemap'===this.type||!n[this.type]||0===this.options.boostThreshold)t.call(this);else if(this[e+'Canvas'])this[e+'Canvas']()};r(i.prototype,e,t);'translate'===e&&'column bar arearange columnrange heatmap treemap'.split(' ').forEach(function(o){a[o]&&r(a[o].prototype,e,t)})});r(i.prototype,'processData',function(e){function i(e){return o.chart.isChartSeriesBoosting()||(e?e.length:0)>=(o.options.boostThreshold||Number.MAX_VALUE)};var o=this,t=this.options.data;d(this.chart)&&n[this.type]?(i(t)&&'heatmap'!==this.type&&'treemap'!==this.type&&!this.options.stacking&&this.hasExtremes&&this.hasExtremes(!0)||(e.apply(this,Array.prototype.slice.call(arguments,1)),t=this.processedXData),(this.isSeriesBoosting=i(t))?this.enterBoost():this.exitBoost&&this.exitBoost()):e.apply(this,Array.prototype.slice.call(arguments,1))});f(i,'hide',function(){this.canvas&&this.renderTarget&&(this.ogl&&this.ogl.clear(),this.boostClear())});i.prototype.enterBoost=function(){this.alteredByBoost=[];['allowDG','directTouch','stickyTracking'].forEach(function(e){this.alteredByBoost.push({prop:e,val:this[e],own:this.hasOwnProperty(e)})},this);this.directTouch=this.allowDG=!1;this.stickyTracking=!0;this.animate=null;this.labelBySeries&&(this.labelBySeries=this.labelBySeries.destroy())};i.prototype.exitBoost=function(){(this.alteredByBoost||[]).forEach(function(e){e.own?this[e.prop]=e.val:delete this[e.prop]},this);this.boostClear&&this.boostClear()};i.prototype.hasExtremes=function(e){var t=this.options,o=this.xAxis&&this.xAxis.options,i=this.yAxis&&this.yAxis.options;return t.data.length>(t.boostThreshold||Number.MAX_VALUE)&&s(i.min)&&s(i.max)&&(!e||s(o.min)&&s(o.max))};i.prototype.destroyGraphics=function(){var t=this,o=this.points,i,e;if(o)for(e=0;e<o.length;e+=1)(i=o[e])&&i.destroyElements&&i.destroyElements();['graph','area','tracker'].forEach(function(e){t[e]&&(t[e]=t[e].destroy())})};o.forEach(function(e){l[e]&&(l[e].boostThreshold=5E3,l[e].boostData=[],a[e].prototype.fillOpacity=!0)})});t(e,'modules/boost/named-colors.js',[e['parts/Globals.js']],function(e){var t={aliceblue:'#f0f8ff',antiquewhite:'#faebd7',aqua:'#00ffff',aquamarine:'#7fffd4',azure:'#f0ffff',beige:'#f5f5dc',bisque:'#ffe4c4',black:'#000000',blanchedalmond:'#ffebcd',blue:'#0000ff',blueviolet:'#8a2be2',brown:'#a52a2a',burlywood:'#deb887',cadetblue:'#5f9ea0',chartreuse:'#7fff00',chocolate:'#d2691e',coral:'#ff7f50',cornflowerblue:'#6495ed',cornsilk:'#fff8dc',crimson:'#dc143c',cyan:'#00ffff',darkblue:'#00008b',darkcyan:'#008b8b',darkgoldenrod:'#b8860b',darkgray:'#a9a9a9',darkgreen:'#006400',darkkhaki:'#bdb76b',darkmagenta:'#8b008b',darkolivegreen:'#556b2f',darkorange:'#ff8c00',darkorchid:'#9932cc',darkred:'#8b0000',darksalmon:'#e9967a',darkseagreen:'#8fbc8f',darkslateblue:'#483d8b',darkslategray:'#2f4f4f',darkturquoise:'#00ced1',darkviolet:'#9400d3',deeppink:'#ff1493',deepskyblue:'#00bfff',dimgray:'#696969',dodgerblue:'#1e90ff',feldspar:'#d19275',firebrick:'#b22222',floralwhite:'#fffaf0',forestgreen:'#228b22',fuchsia:'#ff00ff',gainsboro:'#dcdcdc',ghostwhite:'#f8f8ff',gold:'#ffd700',goldenrod:'#daa520',gray:'#808080',green:'#008000',greenyellow:'#adff2f',honeydew:'#f0fff0',hotpink:'#ff69b4',indianred:'#cd5c5c',indigo:'#4b0082',ivory:'#fffff0',khaki:'#f0e68c',lavender:'#e6e6fa',lavenderblush:'#fff0f5',lawngreen:'#7cfc00',lemonchiffon:'#fffacd',lightblue:'#add8e6',lightcoral:'#f08080',lightcyan:'#e0ffff',lightgoldenrodyellow:'#fafad2',lightgrey:'#d3d3d3',lightgreen:'#90ee90',lightpink:'#ffb6c1',lightsalmon:'#ffa07a',lightseagreen:'#20b2aa',lightskyblue:'#87cefa',lightslateblue:'#8470ff',lightslategray:'#778899',lightsteelblue:'#b0c4de',lightyellow:'#ffffe0',lime:'#00ff00',limegreen:'#32cd32',linen:'#faf0e6',magenta:'#ff00ff',maroon:'#800000',mediumaquamarine:'#66cdaa',mediumblue:'#0000cd',mediumorchid:'#ba55d3',mediumpurple:'#9370d8',mediumseagreen:'#3cb371',mediumslateblue:'#7b68ee',mediumspringgreen:'#00fa9a',mediumturquoise:'#48d1cc',mediumvioletred:'#c71585',midnightblue:'#191970',mintcream:'#f5fffa',mistyrose:'#ffe4e1',moccasin:'#ffe4b5',navajowhite:'#ffdead',navy:'#000080',oldlace:'#fdf5e6',olive:'#808000',olivedrab:'#6b8e23',orange:'#ffa500',orangered:'#ff4500',orchid:'#da70d6',palegoldenrod:'#eee8aa',palegreen:'#98fb98',paleturquoise:'#afeeee',palevioletred:'#d87093',papayawhip:'#ffefd5',peachpuff:'#ffdab9',peru:'#cd853f',pink:'#ffc0cb',plum:'#dda0dd',powderblue:'#b0e0e6',purple:'#800080',red:'#ff0000',rosybrown:'#bc8f8f',royalblue:'#4169e1',saddlebrown:'#8b4513',salmon:'#fa8072',sandybrown:'#f4a460',seagreen:'#2e8b57',seashell:'#fff5ee',sienna:'#a0522d',silver:'#c0c0c0',skyblue:'#87ceeb',slateblue:'#6a5acd',slategray:'#708090',snow:'#fffafa',springgreen:'#00ff7f',steelblue:'#4682b4',tan:'#d2b48c',teal:'#008080',thistle:'#d8bfd8',tomato:'#ff6347',turquoise:'#40e0d0',violet:'#ee82ee',violetred:'#d02090',wheat:'#f5deb3',white:'#ffffff',whitesmoke:'#f5f5f5',yellow:'#ffff00',yellowgreen:'#9acd32'};return e.Color.prototype.names=t});t(e,'modules/boost/boost.js',[e['parts/Globals.js'],e['modules/boost/boost-utils.js'],e['modules/boost/boost-init.js']],function(e,t,o){t=t.hasWebGLSupport;t()?o():'undefined'!==typeof e.initCanvasBoost?e.initCanvasBoost():e.error(26)});t(e,'masters/modules/boost.src.js',[],function(){})});